<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Peer</title>
<!--  <link rel="manifest" href="https://zababurinsv.github.io/manifest.json"/>-->
  <link rel="shortcut icon" href="data:image/png;base64, AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbbv+DGW3/mRlt/5kZbf+ZGq6/hIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGa3/ohkt/7/Zbj//2S3/v9lt/6WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGm5/iRlt/74Zbj//2W4//9luP//Zbf++mi4/i4gIPciGhr24hsb9uwbG/bsGhr24CEh9xoAAAAAAAAAAAAAAABnuP5mZLf+/2W4//9luP//Zbj//2S3/v9muP5yGBj2rhMT9v8TE/b/ExP2/xMT9f8YGPWkAAAAAAAAAAAAAAAAb7z/BGW3/tZluP//Zbj//2W4//9lt/7gJzH3ShMT9f8TE/b/ExP2/xMT9v8TE/b/ExP1/CAg9joAAAAAAAAAAAAAAABmuP5GZLf+6GS3/uhkt/7oZbf+UhgY9YQSEvX/ExP2/xMT9v8TE/b/ExP2/xIS9f8aGvZ8AAAAAD4++gQgIPZ6IiL2hiIi9oYgIPZ8KCj5BAAAAAAtLfgUFBT17BMT9v8TE/b/ExP2/xMT9v8VFfXoLCz4DgAAAAAaGvZqEhL1/xMT9v8TE/b/EhL1/xsb9nIAAAAAAAAAABwc9m4SEvX/ExP2/xMT9v8SEvX/HR32ZAAAAAAnJ/gSFRX16hMT9v8TE/b/ExP2/xMT9v8UFPXuJyf4Fp2xlAKNnqUYLC/mfhYW83ATE/VuFxf1aDc3+gIAAAAAGBj1fhIS9f8TE/b/ExP2/xMT9v8TE/b/ExP1/xkZ9YaGn3yIhZ57/4Wee/+Gn3yKAAAAAAAAAAAAAAAAAAAAACMj9zYTE/X8ExP2/xMT9v8TE/b/ExP2/xMT9f9JUshihZ57+IaffP+Gn3z/hZ579oigfiYAAAAAAAAAAAAAAAAAAAAAGBj1oBIS9f8TE/b/ExP2/xMT9f8YGPWmiKB+PIWee/+Gn3z/hp98/4Wee/+HoH06AAAAAAAAAAAAAAAAAAAAACUl9xgVFfXOExP11BMT9dQUFPXQJib3HgAAAACGn3ymhp98/4affP+Gn3ymAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiKB+EIihf0CIoX9AiKB+EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAP//AADg/wAA4MMAAOCBAADggQAA8QEAAOeBAADDwwAAgf8AAIAPAACBDwAAgQ8AAMMPAAD//wAA//8AAA==" type="image/png">
</head>
<body>
<div class="__peer">
  <header class="__header">
    <pre class="__header_logo_value">
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░░░░░░░░░░░░░░░░░░█░░░░░░░░░░░░░░░░░░░░░░░░░░░
░░░░░░████░░░░░░█████░░░░░░░░░░░░░░░░░░░░░░░░░
░░░░████████░░░███████░░░░░░░░░░░░░░░░░░░░░░░░
░░░██████████░█████████░░░░░░░░░░░░░░░░░░░░░░░
░░████████████░░█████░░░░░░░░░░░░░░░░░░░░░░░░░
░░░██████████░░░░░█░░░░░░░░░░░░░░░░░░░░░░░░░░░
░░░░████████░░░░░░█████╗░██████╗░░██████╗░░░░░
░░░░░░░░█████░░░░██╔══██╗██╔══██╗██╔════╝░░░░░
░░░░░░█████████░░██║░░██║██████╔╝██║░░██╗░░░░░
░░░░░███████████░██║░░██║██╔══██╗██║░░╚██╗░░░░
░░░░░░█████████░░╚█████╔╝██║░░██║╚██████╔╝░░░░
░░░░░░░███████░░░░╚════╝░╚═╝░░╚═╝░╚═════╝░░░░░
░░░░░░░░░███░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
      <div class="spinner" id='spinner' style="visibility: hidden"></div>
      <div class="emscripten" id="status" style="visibility: hidden">Downloading</div>
    </pre>
    <div id='controls' style="visibility: hidden">
      <div><input type="checkbox" id="resize">Resize canvas</div>
      <div><input type="checkbox" id="pointerLock" checked>Lock/hide mouse pointer</div>
      <div><input type="button" value="Fullscreen" onclick="Module.requestFullscreen(document.getElementById('pointerLock').checked, document.getElementById('resize').checked)"></div>
    </div>
    <div class="__header_menu"  style="visibility: hidden">
      <div class="__header-menu_status">
        <div class="__header-menu_status_peer">peer:<span>stop</span></div>
        <div class="__header-menu_status_db">db:<span>stop</span></div>
        <div class="__header-menu_status_fs">fs:<span>stop</span></div>
        <div class="__header-menu_status_worker">worker:<span>stop</span></div>
      </div>
    </div>
  </header>
  <div class="__peer-body">
    <div class="__peer-body_menu_canvas">
      <div class="emscripten">
        <progress value="0" max="100" id="progress" hidden=1></progress>
      </div>
      <div class="emscripten_border">
        <canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()" tabindex=-1></canvas>
      </div>
    </div>
    <fieldset class="__peer-body-menu">
      <legend>Menu</legend>
      <fieldset class="__peer-body-menu_item_menu">
        <legend>Peer</legend>
        <venus-tabs background>
          <a slot="title" selected >Control</a>
          <a slot="title">Info</a>
          <a slot="title">Logs</a>
          <section>
            <span class="__peer_info_state"></span>
            <div class="__peer-body-menu-item_wrapper">
              <label class="__peer-body-menu-item" for="__peer_state_init">peer init</label>
              <input type="button" id="__peer_state_init" name="init" style="display: none">

              <label class="__peer-body-menu-item __peer_state_initiator" for="__peer_state_initiator">Initiator</label>
              <input type="checkbox" id="__peer_state_initiator" name="reset" style="display: none">

              <label class="__peer-body-menu-item" for="__peer_message_send">Message</label>
              <input type="button" id="__peer_message_send" name="message" style="display: none">

              <label class="__peer-body-menu-item" for="__peer_state_chain">Chain</label>
              <input type="checkbox" id="__peer_state_chain" name="reset" style="display: none">
            </div>
            <span class="__peer_info_status"></span>
          </section>
          <section>content panel 2</section>
          <section>content panel 3</section>
        </venus-tabs>
      </fieldset>
    </fieldset>
    <textarea id="output" rows="8"></textarea>
  </div>
</div>
<style>@import "./css/index.css";</style>
<script type="module" src="./modules/external/page-external.mjs"></script>
<script type="module">
  import SimplePeer from './modules/simple-peer/simplepeer.min.js'
  import isEmpty from './modules/isEmpty/isEmpty.mjs'
  import fs from './modules/fs/src/index.mjs'
  import { events, tests } from 'z-events'
  import VenusTabs from './modules/tabs/index.mjs'
  import parser from './modules/bem/bemParser.mjs'
  VenusTabs()
  document.addEventListener("DOMContentLoaded",async () => {
    try {
      let itemID = document.body.querySelectorAll("[id]")
      let itemCLASS = document.body.querySelectorAll("[class]")
      let API = {}
      API['id'] = {}
      API['class'] = {}
      API = await parser(API, itemID, {type: 'id'})
      API = await parser(API, itemCLASS, {type: 'class'})
      let idbfs = await fs('IDBFS')

      // let path = "http://localhost:4434"
      // let path = 'https://web3-news.herokuapp.com'
      // let path = "https://web3-star.herokuapp.com"
      // let path = "https://web3.news"
      console.log('cwd', await idbfs.cwd())
      console.log('readdir', (await idbfs.readdir("./")).message)

      console.log('=== SYS API ===', {API: API, idbfs: idbfs})
    } catch (e) {
      console.error(e)
    }
  })
</script>
</body>
</html>
